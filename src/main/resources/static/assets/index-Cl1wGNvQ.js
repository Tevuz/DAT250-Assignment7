var Me=Object.defineProperty;var Te=(t,e,n)=>e in t?Me(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var G=(t,e,n)=>Te(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function M(){}function je(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function Ee(t){return t()}function ce(){return Object.create(null)}function A(t){t.forEach(Ee)}function Le(t){return typeof t=="function"}function ee(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Ie(t){return Object.keys(t).length===0}function _(t,e){t.appendChild(e)}function O(t,e,n){t.insertBefore(e,n||null)}function w(t){t.parentNode&&t.parentNode.removeChild(t)}function U(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function g(t){return document.createElement(t)}function L(t){return document.createTextNode(t)}function S(){return L(" ")}function Ne(){return L("")}function T(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function te(t){return function(e){return e.preventDefault(),t.call(this,e)}}function y(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ae(t){return Array.from(t.childNodes)}function V(t,e){e=""+e,t.data!==e&&(t.data=e)}function ue(t,e,n,l){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function fe(t,e){return new t(e)}let K;function j(t){K=t}function qe(){if(!K)throw new Error("Function called outside component initialization");return K}function Ve(t){qe().$$.on_mount.push(t)}const B=[],ae=[];let F=[];const he=[],He=Promise.resolve();let X=!1;function Qe(){X||(X=!0,He.then(ne))}function Y(t){F.push(t)}const W=new Set;let Q=0;function ne(){if(Q!==0)return;const t=K;do{try{for(;Q<B.length;){const e=B[Q];Q++,j(e),Be(e.$$)}}catch(e){throw B.length=0,Q=0,e}for(j(null),B.length=0,Q=0;ae.length;)ae.pop()();for(let e=0;e<F.length;e+=1){const n=F[e];W.has(n)||(W.add(n),n())}F.length=0}while(B.length);for(;he.length;)he.pop()();X=!1,W.clear(),j(t)}function Be(t){if(t.fragment!==null){t.update(),A(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Y)}}function Fe(t){const e=[],n=[];F.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),F=e}const R=new Set;let H;function le(){H={r:0,c:[],p:H}}function oe(){H.r||A(H.c),H=H.p}function D(t,e){t&&t.i&&(R.delete(t),t.i(e))}function z(t,e,n,l){if(t&&t.o){if(R.has(t))return;R.add(t),H.c.push(()=>{R.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}function de(t,e){const n=e.token={};function l(o,r,i,h){if(e.token!==n)return;e.resolved=h;let a=e.ctx;i!==void 0&&(a=a.slice(),a[i]=h);const c=o&&(e.current=o)(a);let f=!1;e.block&&(e.blocks?e.blocks.forEach((s,p)=>{p!==r&&s&&(le(),z(s,1,1,()=>{e.blocks[p]===s&&(e.blocks[p]=null)}),oe())}):e.block.d(1),c.c(),D(c,1),c.m(e.mount(),e.anchor),f=!0),e.block=c,e.blocks&&(e.blocks[r]=c),f&&ne()}if(je(t)){const o=qe();if(t.then(r=>{j(o),l(e.then,1,e.value,r),j(null)},r=>{if(j(o),l(e.catch,2,e.error,r),j(null),!e.hasCatch)throw r}),e.current!==e.pending)return l(e.pending,0),!0}else{if(e.current!==e.then)return l(e.then,1,e.value,t),!0;e.resolved=t}}function De(t,e,n){const l=e.slice(),{resolved:o}=t;t.current===t.then&&(l[t.value]=o),t.current===t.catch&&(l[t.error]=o),t.block.p(l,n)}function I(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function pe(t){t&&t.c()}function Z(t,e,n){const{fragment:l,after_update:o}=t.$$;l&&l.m(e,n),Y(()=>{const r=t.$$.on_mount.map(Ee).filter(Le);t.$$.on_destroy?t.$$.on_destroy.push(...r):A(r),t.$$.on_mount=[]}),o.forEach(Y)}function x(t,e){const n=t.$$;n.fragment!==null&&(Fe(n.after_update),A(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Je(t,e){t.$$.dirty[0]===-1&&(B.push(t),Qe(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function re(t,e,n,l,o,r,i=null,h=[-1]){const a=K;j(t);const c=t.$$={fragment:null,ctx:[],props:r,update:M,not_equal:o,bound:ce(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:ce(),dirty:h,skip_bound:!1,root:e.target||a.$$.root};i&&i(c.root);let f=!1;if(c.ctx=n?n(t,e.props||{},(s,p,...m)=>{const u=m.length?m[0]:p;return c.ctx&&o(c.ctx[s],c.ctx[s]=u)&&(!c.skip_bound&&c.bound[s]&&c.bound[s](u),f&&Je(t,s)),p}):[],c.update(),f=!0,A(c.before_update),c.fragment=l?l(c.ctx):!1,e.target){if(e.hydrate){const s=Ae(e.target);c.fragment&&c.fragment.l(s),s.forEach(w)}else c.fragment&&c.fragment.c();e.intro&&D(t.$$.fragment),Z(t,e.target,e.anchor),ne()}j(a)}class ie{constructor(){G(this,"$$");G(this,"$$set")}$destroy(){x(this,1),this.$destroy=M}$on(e,n){if(!Le(n))return M;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const o=l.indexOf(n);o!==-1&&l.splice(o,1)}}$set(e){this.$$set&&!Ie(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ke="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ke);function _e(t,e,n){const l=t.slice();return l[10]=e[n],l}function me(t,e,n){const l=t.slice();return l[15]=e[n],l}function ge(t,e,n){const l=t.slice();l[15]=e[n];const o=l[15].votes.length*100/l[14];return l[16]=o,l}function ze(t){const e=t.slice(),n=e[13].voteOptions.reduce((l,o)=>l+o.votes.length,0);return e[14]=n,e}function Re(t){let e=t[21]+"",n,l;return{c(){n=L(e),l=S()},m(o,r){O(o,n,r),O(o,l,r)},p(o,r){r&3&&e!==(e=o[21]+"")&&V(n,e)},d(o){o&&(w(n),w(l))}}}function Ue(t){let e,n,l=t[13].question+"",o,r,i;function h(s,p){return s[2][s[10]].hasVoted?be:Ge}function a(s,p){return p===be?ze(s):s}let c=h(t),f=c(a(t,c));return{c(){e=g("details"),n=g("summary"),o=L(l),r=S(),f.c(),i=S(),y(n,"class","h2"),y(e,"class","entry")},m(s,p){O(s,e,p),_(e,n),_(n,o),_(e,r),f.m(e,null),O(s,i,p)},p(s,p){p&3&&l!==(l=s[13].question+"")&&V(o,l),c===(c=h(s))&&f?f.p(a(s,c),p):(f.d(1),f=c(a(s,c)),f&&(f.c(),f.m(e,null)))},d(s){s&&(w(e),w(i)),f.d()}}}function Ge(t){let e,n,l,o,r,i=t[13].voteOptions.reduce(we,0)+"",h,a,c,f,s,p,m=I(t[13].voteOptions),u=[];for(let d=0;d<m.length;d+=1)u[d]=ye(me(t,m,d));function q(...d){return t[7](t[13],...d)}return{c(){e=g("div"),n=g("form");for(let d=0;d<u.length;d+=1)u[d].c();l=S(),o=g("div"),r=g("span"),h=L(i),a=L(" votes"),c=S(),f=g("button"),f.innerHTML="<h3>Vote</h3>",y(f,"class","button button-accent"),y(f,"type","submit"),y(o,"class","align-right"),y(e,"class","select")},m(d,v){O(d,e,v),_(e,n);for(let b=0;b<u.length;b+=1)u[b]&&u[b].m(n,null);_(n,l),_(n,o),_(o,r),_(r,h),_(r,a),_(o,c),_(o,f),s||(p=T(n,"submit",te(q)),s=!0)},p(d,v){if(t=d,v&11){m=I(t[13].voteOptions);let b;for(b=0;b<m.length;b+=1){const C=me(t,m,b);u[b]?u[b].p(C,v):(u[b]=ye(C),u[b].c(),u[b].m(n,l))}for(;b<u.length;b+=1)u[b].d(1);u.length=m.length}v&3&&i!==(i=t[13].voteOptions.reduce(we,0)+"")&&V(h,i)},d(d){d&&w(e),U(u,d),s=!1,p()}}}function be(t){let e,n,l,o,r,i=t[14]+"",h,a,c,f,s,p,m=I(t[13].voteOptions),u=[];for(let d=0;d<m.length;d+=1)u[d]=ve(ge(t,m,d));function q(...d){return t[5](t[13],...d)}return{c(){e=g("div"),n=g("form");for(let d=0;d<u.length;d+=1)u[d].c();l=S(),o=g("div"),r=g("span"),h=L(i),a=L(" votes"),c=S(),f=g("button"),f.innerHTML="<h3>Voted</h3>",y(f,"class","button"),f.disabled=!0,y(o,"class","align-right"),y(e,"class","select")},m(d,v){O(d,e,v),_(e,n);for(let b=0;b<u.length;b+=1)u[b]&&u[b].m(n,null);_(n,l),_(n,o),_(o,r),_(r,h),_(r,a),_(o,c),_(o,f),s||(p=T(n,"submit",te(q)),s=!0)},p(d,v){if(t=d,v&7){m=I(t[13].voteOptions);let b;for(b=0;b<m.length;b+=1){const C=ge(t,m,b);u[b]?u[b].p(C,v):(u[b]=ve(C),u[b].c(),u[b].m(n,l))}for(;b<u.length;b+=1)u[b].d(1);u.length=m.length}v&3&&i!==(i=t[14]+"")&&V(h,i)},d(d){d&&w(e),U(u,d),s=!1,p()}}}function ye(t){let e,n,l,o,r=t[15].caption+"",i,h,a;function c(...f){return t[6](t[15],...f)}return{c(){e=g("label"),n=g("input"),l=g("span"),o=g("span"),i=L(r),y(n,"type","checkbox"),y(l,"class","icon"),y(e,"class","item")},m(f,s){O(f,e,s),_(e,n),_(e,l),_(e,o),_(o,i),h||(a=[T(n,"keypress",xe),T(n,"change",c)],h=!0)},p(f,s){t=f,s&3&&r!==(r=t[15].caption+"")&&V(i,r)},d(f){f&&w(e),h=!1,A(a)}}}function We(t){let e,n,l=t[15].caption+"",o,r,i;return{c(){e=g("span"),n=g("span"),o=L(l),r=S(),i=g("input"),y(e,"class","icon"),i.disabled=!0},m(h,a){O(h,e,a),O(h,n,a),_(n,o),O(h,r,a),O(h,i,a)},p(h,a){a&3&&l!==(l=h[15].caption+"")&&V(o,l)},d(h){h&&(w(e),w(n),w(r),w(i))}}}function Xe(t){let e,n,l=t[15].caption+"",o,r,i;return{c(){e=g("span"),n=g("span"),o=L(l),r=S(),i=g("input"),y(e,"class","icon selected"),y(i,"type","checkbox"),i.disabled=!0,i.checked=!0},m(h,a){O(h,e,a),O(h,n,a),_(n,o),O(h,r,a),O(h,i,a)},p(h,a){a&3&&l!==(l=h[15].caption+"")&&V(o,l)},d(h){h&&(w(e),w(n),w(r),w(i))}}}function ve(t){let e,n,l,o,r=t[15].votes.length+"",i,h;function a(s,p){return p&7&&(n=null),n==null&&(n=!!s[2][s[10]].options.includes(s[15].id)),n?Xe:We}let c=a(t,-1),f=c(t);return{c(){e=g("label"),f.c(),l=S(),o=g("span"),i=L(r),h=L(" votes"),y(o,"class","float-right"),y(e,"class","item"),ue(e,"--param-progress",t[16]+"%")},m(s,p){O(s,e,p),f.m(e,null),_(e,l),_(e,o),_(o,i),_(o,h)},p(s,p){c===(c=a(s,p))&&f?f.p(s,p):(f.d(1),f=c(s),f&&(f.c(),f.m(e,l))),p&3&&r!==(r=s[15].votes.length+"")&&V(i,r),p&3&&ue(e,"--param-progress",s[16]+"%")},d(s){s&&w(e),f.d()}}}function Ye(t){let e;return{c(){e=L(`Loading Poll...\r
        `)},m(n,l){O(n,e,l)},p:M,d(n){n&&w(e)}}}function ke(t){let e,n,l={ctx:t,current:null,token:null,hasCatch:!0,pending:Ye,then:Ue,catch:Re,value:13,error:21};return de(n=t[1][t[10]],l),{c(){e=Ne(),l.block.c()},m(o,r){O(o,e,r),l.block.m(o,l.anchor=r),l.mount=()=>e.parentNode,l.anchor=e},p(o,r){t=o,l.ctx=t,r&3&&n!==(n=t[1][t[10]])&&de(n,l)||De(l,t,r)},d(o){o&&w(e),l.block.d(o),l.token=null,l=null}}}function Ze(t){let e,n,l,o,r,i,h,a,c,f=I(t[0]),s=[];for(let p=0;p<f.length;p+=1)s[p]=ke(_e(t,f,p));return{c(){e=g("div"),n=g("div"),l=g("h1"),l.textContent="Polls",o=S(),r=g("span"),i=g("button"),i.innerHTML="<h2>Create Poll</h2>",h=S();for(let p=0;p<s.length;p+=1)s[p].c();y(l,"class","column"),y(i,"class","button button-accent"),y(i,"type","button"),y(r,"class","column align-right"),y(n,"class","row"),y(e,"class","content")},m(p,m){O(p,e,m),_(e,n),_(n,l),_(n,o),_(n,r),_(r,i),_(e,h);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(e,null);a||(c=T(i,"click",te(et)),a=!0)},p(p,[m]){if(m&31){f=I(p[0]);let u;for(u=0;u<f.length;u+=1){const q=_e(p,f,u);s[u]?s[u].p(q,m):(s[u]=ke(q),s[u].c(),s[u].m(e,null))}for(;u<s.length;u+=1)s[u].d(1);s.length=f.length}},i:M,o:M,d(p){p&&w(e),U(s,p),a=!1,c()}}}function xe(t){t.code==="Enter"&&(this.checked=!this.checked)}function et(){history.pushState({view:"poll_create"},null,"/")}const we=(t,e)=>t+e.votes.length;function tt(t,e,n){let l=[],o={},r={};Ve(()=>{i();const m=setInterval(i,5e3);return()=>clearInterval(m)});function i(){fetch("http://127.0.0.1:8080/api/polls").then(m=>m.json()).then(m=>{for(const u of m)o[u.id]?o[u.id]!=u&&n(1,o[u.id]=u,o):(n(0,l=[...l,u.id]),n(1,o[u.id]=u,o),n(2,r[u.id]={},r))})}let h={};function a(m,u){h[m]=u.target.checked}function c(m,u){n(2,r[m.id].hasVoted=!0,r),n(2,r[m.id].options=[],r);let q=m.voteOptions.map(d=>d.id).filter(d=>h[d]).map(d=>(r[m.id].options.push(d),{method:"POST",body:JSON.stringify({username:"unknown",voteOption:{id:d}}),headers:{"Content-Type":"application/json"}}));Promise.all(q.map(d=>fetch("http://127.0.0.1:8080/api/votes",d))).then(d=>fetch("http://127.0.0.1:8080/api/polls/"+m.id).then(v=>v.json()).then(v=>{o[v.id]?o[v.id]!=v&&n(1,o[v.id]=v,o):(n(0,l=[...l,v.id]),n(1,o[v.id]=v,o),n(2,r[v.id]={},r))}))}return[l,o,r,a,c,(m,u)=>c(m),(m,u)=>a(m.id,u),(m,u)=>c(m)]}class nt extends ie{constructor(e){super(),re(this,e,tt,Ze,ee,{})}}function Oe(t,e,n){const l=t.slice();return l[13]=e[n],l[15]=n,l}function $e(t){let e;return{c(){e=g("p"),e.textContent="* Question is required.",y(e,"class","errorMessage")},m(n,l){O(n,e,l)},d(n){n&&w(e)}}}function Ce(t){let e,n,l;function o(){return t[12](t[15])}return{c(){e=g("button"),e.textContent="â•³",y(e,"class","button-delete"),y(e,"type","button")},m(r,i){O(r,e,i),n||(l=T(e,"click",o),n=!0)},p(r,i){t=r},d(r){r&&w(e),n=!1,l()}}}function Se(t){let e,n,l,o,r,i;function h(...f){return t[10](t[15],...f)}function a(...f){return t[11](t[15],...f)}let c=t[13]&&Ce(t);return{c(){e=g("div"),n=g("input"),o=S(),c&&c.c(),y(n,"id","option_"+t[15]),y(n,"type","text"),n.value=l=t[13],y(n,"placeholder","Option "+(t[15]+1)),y(e,"class","combobox")},m(f,s){O(f,e,s),_(e,n),_(e,o),c&&c.m(e,null),r||(i=[T(n,"input",h),T(n,"change",a)],r=!0)},p(f,s){t=f,s&4&&l!==(l=t[13])&&n.value!==l&&(n.value=l),t[13]?c?c.p(t,s):(c=Ce(t),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(f){f&&w(e),c&&c.d(),r=!1,A(i)}}}function Pe(t){let e;return{c(){e=g("p"),e.textContent="* At least one option is required.",y(e,"class","errorMessage")},m(n,l){O(n,e,l)},d(n){n&&w(e)}}}function lt(t){let e,n,l,o,r,i,h,a,c,f,s,p,m,u,q,d,v,b,C=!t[1]&&$e(),$=I(t[2]),k=[];for(let P=0;P<$.length;P+=1)k[P]=Se(Oe(t,$,P));let N=!t[3]&&Pe();return{c(){e=g("div"),n=g("h1"),n.textContent="Create Poll",l=S(),o=g("h2"),o.textContent="Question",r=S(),i=g("input"),h=S(),C&&C.c(),a=S(),c=g("h2"),c.textContent="Options",f=S();for(let P=0;P<k.length;P+=1)k[P].c();s=S(),N&&N.c(),p=S(),m=g("div"),u=g("button"),u.innerHTML="<h2>Cancel</h2>",q=S(),d=g("button"),d.innerHTML="<h2>Create</h2>",y(i,"id","question"),y(i,"type","text"),y(i,"placeholder","Question"),i.value=t[0],y(c,"class","label"),y(u,"class","button button-cancel"),y(u,"type","button"),y(d,"class","button button-accent"),y(d,"type","button"),y(m,"class","float-right"),y(e,"class","form")},m(P,J){O(P,e,J),_(e,n),_(e,l),_(e,o),_(e,r),_(e,i),_(e,h),C&&C.m(e,null),_(e,a),_(e,c),_(e,f);for(let E=0;E<k.length;E+=1)k[E]&&k[E].m(e,null);_(e,s),N&&N.m(e,null),_(e,p),_(e,m),_(m,u),_(m,q),_(m,d),v||(b=[T(i,"input",t[4]),T(u,"click",t[8]),T(d,"click",t[9])],v=!0)},p(P,[J]){if(J&1&&i.value!==P[0]&&(i.value=P[0]),P[1]?C&&(C.d(1),C=null):C||(C=$e(),C.c(),C.m(e,a)),J&228){$=I(P[2]);let E;for(E=0;E<$.length;E+=1){const se=Oe(P,$,E);k[E]?k[E].p(se,J):(k[E]=Se(se),k[E].c(),k[E].m(e,s))}for(;E<k.length;E+=1)k[E].d(1);k.length=$.length}P[3]?N&&(N.d(1),N=null):N||(N=Pe(),N.c(),N.m(e,p))},i:M,o:M,d(P){P&&w(e),C&&C.d(),U(k,P),N&&N.d(),v=!1,A(b)}}}function ot(t,e,n){var d,v,b,C;let l=((v=(d=history.state)==null?void 0:d.poll_create_data)==null?void 0:v.question)??"",o=!0,r=((C=(b=history.state)==null?void 0:b.poll_create_data)==null?void 0:C.options)??[""],i=!0;function h($){n(0,l=$.target.value.trim()),n(1,o=!0),history.replaceState({...history.state,poll_create_data:{question:l,options:r}},null,"/")}function a($,k){n(2,r[$]=k.target.value.trim(),r),$===r.length-1&&k.target.value!==""&&n(2,r=[...r,""]),n(3,i=!0),history.replaceState({...history.state,poll_create_data:{question:l,options:r}},null,"/")}function c($,k){k.target.value=k.target.value.trim(),$!==r.length-1&&k.target.value===""&&(r.splice($,1),n(2,r)),n(3,i=!0),history.replaceState({...history.state,poll_create_data:{question:l,options:r}},null,"/")}function f($){r.length===1?n(2,r[0]="",r):r.splice($,1),n(3,i=!0),n(2,r)}function s(){history.replaceState({...history.state,poll_create_data:{question:l,options:r}},null,"/"),history.pushState(null,null,"/")}function p(){if(n(1,o=l.length>0),n(3,i=r.length>1),!o||!i)return;const $=JSON.stringify({question:l,author_username:"unknown",voteOptions:r.slice(0,-1).map(k=>({caption:k}))});fetch("http://127.0.0.1:8080/api/polls",{method:"POST",body:$,headers:{"Content-Type":"application/json"}}).then(()=>history.pushState(null,null,"/"))}return[l,o,r,i,h,a,c,f,s,p,($,k)=>a($,k),($,k)=>c($,k),$=>f($)]}class rt extends ie{constructor(e){super(),re(this,e,ot,lt,ee,{})}}function it(t){let e;return{c(){e=g("h1"),e.textContent="Page Not Found"},m(n,l){O(n,e,l)},p:M,i:M,o:M,d(n){n&&w(e)}}}function st(t){let e,n,l;var o=t[2][t[0]][t[1]];function r(i,h){return{}}return o&&(e=fe(o,r())),{c(){e&&pe(e.$$.fragment),n=Ne()},m(i,h){e&&Z(e,i,h),O(i,n,h),l=!0},p(i,h){if(h&3&&o!==(o=i[2][i[0]][i[1]])){if(e){le();const a=e;z(a.$$.fragment,1,0,()=>{x(a,1)}),oe()}o?(e=fe(o,r()),pe(e.$$.fragment),D(e.$$.fragment,1),Z(e,n.parentNode,n)):e=null}},i(i){l||(e&&D(e.$$.fragment,i),l=!0)},o(i){e&&z(e.$$.fragment,i),l=!1},d(i){i&&w(n),e&&x(e,i)}}}function ct(t){let e,n,l,o;const r=[st,it],i=[];function h(a,c){return a[0]in a[2]?0:1}return n=h(t),l=i[n]=r[n](t),{c(){e=g("main"),l.c()},m(a,c){O(a,e,c),i[n].m(e,null),o=!0},p(a,[c]){let f=n;n=h(a),n===f?i[n].p(a,c):(le(),z(i[f],1,1,()=>{i[f]=null}),oe(),l=i[n],l?l.p(a,c):(l=i[n]=r[n](a),l.c()),D(l,1),l.m(e,null))},i(a){o||(D(l),o=!0)},o(a){z(l),o=!1},d(a){a&&w(e),i[n].d()}}}function ut(t,e,n){let l=location.pathname,o="",r={"/":{"":nt,poll_create:rt}};const i=history.pushState;return history.pushState=function(){var h;i.apply(this,arguments),n(0,l=location.pathname),n(1,o=((h=history.state)==null?void 0:h.view)??"")},window.addEventListener("popstate",()=>{var h;n(0,l=location.pathname),n(1,o=((h=history.state)==null?void 0:h.view)??"")}),[l,o,r]}class ft extends ie{constructor(e){super(),re(this,e,ut,ct,ee,{})}}new ft({target:document.getElementById("app")});
